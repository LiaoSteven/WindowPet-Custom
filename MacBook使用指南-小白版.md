# 🐶 WindowPet MacBook 安装指南（小白版）

## 📋 目录
1. [准备工作](#准备工作)
2. [传输文件到 MacBook](#传输文件到-macbook)
3. [安装必要软件](#安装必要软件)
4. [构建应用](#构建应用)
5. [安装和使用](#安装和使用)
6. [常见问题](#常见问题)

---

## 准备工作

### 你需要的：
- ✅ 你的 MacBook Air M2
- ✅ 这个 `WindowPet-0.0.9` 文件夹
- ✅ 稳定的网络连接
- ✅ 大约 30-60 分钟时间

---

## 传输文件到 MacBook

### 方法 1：使用 U盘（最简单）

1. **在 Windows 电脑上：**
   - 插入 U盘
   - 复制整个 `WindowPet-0.0.9` 文件夹到 U盘
   - 安全弹出 U盘

2. **在 MacBook 上：**
   - 插入同一个 U盘
   - 打开"访达"（Finder，就是屏幕底部的笑脸图标）
   - 在左侧找到 U盘的名字，点击它
   - 把 `WindowPet-0.0.9` 文件夹拖到"下载"或"桌面"

### 方法 2：使用 AirDrop（如果两台电脑都是苹果设备）

1. 在两台设备上打开 AirDrop
2. 右键点击 `WindowPet-0.0.9` 文件夹
3. 选择"共享" → "AirDrop" → 选择你的 MacBook
4. 在 MacBook 上点击"接受"

### 方法 3：使用网盘（百度云、OneDrive 等）

1. 在 Windows 上传文件夹到网盘
2. 在 MacBook 上下载文件夹

---

## 安装必要软件

现在你需要在 MacBook 上安装一些开发工具。**不用担心，跟着步骤做就行！**

### 第 1 步：打开终端

终端是一个黑色窗口，可以输入命令的地方。

**打开方法（任选一种）：**

- **方法 A**：按键盘上的 `Command (⌘) + 空格`，输入 `终端` 或 `Terminal`，按回车
- **方法 B**：打开"访达" → "应用程序" → "实用工具" → 双击"终端"

### 第 2 步：安装 Xcode Command Line Tools

这是苹果开发必需的工具。

1. 在终端中**复制粘贴**这条命令（右键粘贴或 `Command + V`）：
   ```bash
   xcode-select --install
   ```

2. 按回车键

3. 会弹出一个窗口，点击"安装"按钮

4. 等待安装完成（大约 5-10 分钟）

### 第 3 步：安装 Homebrew

Homebrew 是 Mac 上的软件管理器，就像手机上的 App Store。

1. 在终端中复制粘贴这条命令：
   ```bash
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
   ```

2. 按回车键

3. 可能会要求输入你的 Mac 密码（**输入时不显示任何内容，这是正常的**）

4. 等待安装完成（大约 5-10 分钟）

5. **重要！** 安装完成后，终端会显示两行命令，类似这样：
   ```
   echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zprofile
   eval "$(/opt/homebrew/bin/brew shellenv)"
   ```
   **把这两行命令复制粘贴到终端，分别执行一次！**

### 第 4 步：安装 Node.js

Node.js 是运行 JavaScript 代码的工具。

1. 在终端中输入：
   ```bash
   brew install node
   ```

2. 按回车，等待安装（大约 3-5 分钟）

### 第 5 步：安装 Rust

Rust 是编译程序需要的编程语言。

1. 在终端中输入：
   ```bash
   curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
   ```

2. 按回车

3. 会问你选择哪种安装方式，直接按 `1` 然后回车（选择默认安装）

4. 等待安装（大约 5-10 分钟）

5. 安装完成后，输入这个命令让 Rust 生效：
   ```bash
   source $HOME/.cargo/env
   ```

6. 添加 Apple Silicon 支持：
   ```bash
   rustup target add aarch64-apple-darwin
   ```

---

## 构建应用

现在软件都装好了，可以开始构建你的应用了！

### 第 1 步：进入项目文件夹

1. 在终端中输入 `cd ` （cd 后面有一个空格）

2. **不要按回车！** 打开访达，找到你的 `WindowPet-0.0.9` 文件夹

3. 把这个文件夹**拖拽**到终端窗口里（会自动填入路径）

4. 现在按回车

5. 你应该看到类似这样的提示：
   ```
   你的用户名@MacBook-Air WindowPet-0.0.9 %
   ```

### 第 2 步：给构建脚本添加执行权限

在终端中输入：
```bash
chmod +x build-macos.sh
```
按回车。

### 第 3 步：运行构建脚本

在终端中输入：
```bash
./build-macos.sh
```
按回车。

**现在会开始自动构建，需要等待 10-30 分钟。** 你会看到很多文字在屏幕上滚动，这是正常的。

**耐心等待，直到看到：**
```
=================================
Build completed successfully!
=================================
```

---

## 安装和使用

### 第 1 步：找到安装包

1. 打开访达

2. 进入 `WindowPet-0.0.9` 文件夹

3. 依次打开：
   ```
   src-tauri → target → aarch64-apple-darwin → release → bundle → dmg
   ```

4. 你会看到一个 `WindowPet_0.0.9_aarch64.dmg` 文件

### 第 2 步：安装应用

1. 双击 `.dmg` 文件

2. 会打开一个窗口，把 `WindowPet` 图标拖到右边的 `Applications` 文件夹

3. 关闭窗口，右键点击桌面上的 DMG 图标，选择"推出"

### 第 3 步：第一次打开应用

**重要！第一次打开需要特殊步骤：**

1. 打开"访达" → "应用程序"

2. 找到 `WindowPet`

3. **右键点击**（或按住 Control 键点击）`WindowPet`

4. 选择"打开"

5. 会弹出警告，点击"打开"

6. 应用就启动了！你会在屏幕顶部菜单栏看到一个图标

### 第 4 步：使用应用

1. **点击屏幕顶部菜单栏的 WindowPet 图标**

2. 选择 "Setting"（设置）

3. 在设置窗口中：
   - 点击 "Pet Shop"（宠物商店）
   - 找到 "Corgi"（柯基）
   - 点击添加

4. Corgi 就会出现在你的屏幕上了！

### 菜单选项说明：
- **Show** - 显示宠物窗口
- **Pause** - 暂停宠物（释放内存）
- **Setting** - 打开设置窗口
- **Restart** - 重启应用
- **Quit** - 退出应用

---

## 常见问题

### ❓ Q1: 终端说"找不到命令"

**A:** 可能是软件没装好。重新运行安装命令。

### ❓ Q2: 构建时出错

**A:** 尝试这些：

1. 确保网络连接正常
2. 在终端中运行：
   ```bash
   cd WindowPet-0.0.9
   rm -rf node_modules
   npm install
   ```
3. 然后重新运行构建脚本

### ❓ Q3: 应用无法打开，提示"已损坏"

**A:** 这是 macOS 的安全机制。解决方法：

1. 打开终端

2. 输入：
   ```bash
   xattr -cr /Applications/WindowPet.app
   ```

3. 按回车，然后重新打开应用

### ❓ Q4: 看不到 Corgi

**A:**
1. 点击菜单栏图标 → Setting
2. 去 Pet Shop 添加 Corgi
3. 如果还是没有，点击 Show 显示窗口

### ❓ Q5: 输入密码时看不到字符

**A:** 这是 macOS 的安全特性，正常的！直接输入密码后按回车就行。

### ❓ Q6: 构建太慢了

**A:** 第一次构建会下载很多东西，确实需要时间。可以：
- 确保网络连接稳定
- 插上电源适配器
- 耐心等待

---

## 🎉 完成！

如果一切顺利，你现在应该能看到可爱的 Corgi 在屏幕上跑来跑去了！

**提示：**
- 宠物窗口支持点击穿透，不会挡住你使用其他程序
- 宠物会在屏幕上随机移动
- 可以同时添加多个宠物

---

## 需要帮助？

如果遇到其他问题：
1. 截图错误信息
2. 记录你做到哪一步了
3. 告诉我具体的错误提示

祝你使用愉快！🐕
